#.github/workflows/workflow.yml

name: Build & Upload Shorts

on: workflow_dispatch: schedule: - cron: '0 * * * *'  # runs every hour

jobs: build: runs-on: ubuntu-latest

steps:
  - name: ðŸ“¥ Clone Repo
    uses: actions/checkout@v3

  - name: ðŸ§ª Setup Python
    uses: actions/setup-python@v4
    with:
      python-version: '3.10'

  - name: ðŸ”§ Install Dependencies
    run: |
      sudo apt-get update
      sudo apt-get install ffmpeg -y
      pip install -r requirements.txt
      npm install -g subtitle

  - name: ðŸ›  Run Script
    run: python build.py

  - name: ðŸ“¤ Upload Video Artifact
    if: success()
    uses: actions/upload-artifact@v3
    with:
      name: final-video
      path: output/final.mp4

